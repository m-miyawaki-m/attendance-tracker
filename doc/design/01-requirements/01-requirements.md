# 勤怠管理システム 要件定義書

## 1. システム概要

### 1.1 目的
従業員の勤怠状況を効率的に管理し、打刻・勤怠確認・分析を一元的に行うシステム

### 1.2 背景
- 従業員の出退勤管理の効率化
- 勤怠データの可視化による業務改善
- 管理者の負担軽減

## 2. 対象ユーザー

### 2.1 ユーザー種別

| ユーザー種別 | 役割 | 主な機能 |
|-------------|------|---------|
| 一般従業員 | 自身の勤怠管理 | 打刻、勤怠確認 |
| 主任 | 配下メンバー管理 | チーム勤怠確認 |
| 管理者 | 全体管理・分析 | 全従業員管理、ダッシュボード |

### 2.2 想定利用規模
- 従業員数: 10〜100名程度
- 部署数: 3〜10部署程度

## 3. 機能要件

### 3.1 認証機能
| ID | 機能名 | 説明 | 優先度 |
|----|-------|------|--------|
| AUTH-001 | ログイン | メールアドレス・パスワードによる認証 | 必須 |
| AUTH-002 | ログアウト | セッション終了 | 必須 |
| AUTH-003 | 権限管理 | ユーザー種別による機能制限 | 必須 |

### 3.2 打刻機能（一般従業員）
| ID | 機能名 | 説明 | 優先度 |
|----|-------|------|--------|
| STAMP-001 | 出勤打刻 | 位置情報付きの出勤記録 | 必須 |
| STAMP-002 | 退勤打刻 | 位置情報付きの退勤記録 | 必須 |
| STAMP-003 | リアルタイム時計 | 現在時刻の表示 | 必須 |
| STAMP-004 | 本日の勤怠状態表示 | 出勤済み/未出勤の表示 | 必須 |

### 3.3 勤怠確認機能（一般従業員）
| ID | 機能名 | 説明 | 優先度 |
|----|-------|------|--------|
| ATT-001 | 月次勤怠一覧 | 自身の月別勤怠履歴表示 | 必須 |
| ATT-002 | 日別勤怠詳細 | 各日の詳細情報表示 | 必須 |

### 3.4 管理機能（管理者）
| ID | 機能名 | 説明 | 優先度 |
|----|-------|------|--------|
| ADMIN-001 | ダッシュボード | 勤怠状況のサマリー・グラフ表示 | 必須 |
| ADMIN-002 | 従業員一覧 | 全従業員の勤怠ステータス集計 | 必須 |
| ADMIN-003 | チーム勤怠管理 | 主任別チームメンバーの勤怠確認 | 必須 |
| ADMIN-004 | 勤怠編集 | 従業員の勤怠データ修正 | 必須 |

### 3.5 グラフ・分析機能（管理者）
| ID | 機能名 | 説明 | 優先度 |
|----|-------|------|--------|
| CHART-001 | 月次出勤率推移 | 折れ線グラフ | 必須 |
| CHART-002 | 部署別平均勤務時間 | 棒グラフ | 必須 |
| CHART-003 | 遅刻・早退推移 | 複数折れ線グラフ | 必須 |
| CHART-004 | 当日出勤状況 | ドーナツグラフ | 必須 |

## 4. 非機能要件

### 4.1 パフォーマンス
| 項目 | 要件 |
|------|------|
| 画面表示 | 3秒以内 |
| 打刻処理 | 2秒以内 |
| データ取得 | 5秒以内 |

### 4.2 セキュリティ
| 項目 | 要件 |
|------|------|
| 認証 | Firebase Authentication |
| 認可 | 役割ベースアクセス制御（RBAC） |
| データ保護 | Firestore Security Rules |

### 4.3 可用性
| 項目 | 要件 |
|------|------|
| 稼働率 | 99.5%以上（Firebase依存） |
| バックアップ | Firebaseの自動バックアップ |

### 4.4 対応環境
| 項目 | 要件 |
|------|------|
| ブラウザ | Chrome, Firefox, Safari, Edge（最新版） |
| デバイス | PC, タブレット, スマートフォン |
| レスポンシブ | 対応必須 |

## 5. 将来拡張候補

### 5.1 機能拡張
- CSVエクスポート機能
- 勤怠申請・承認フロー
- 休暇管理
- シフト管理
- 通知機能（メール/プッシュ）
- 逆ジオコーディング（位置情報から住所変換）

### 5.2 技術拡張
- リアルタイムデータ同期
- PWA化（オフライン対応）
- E2Eテスト

## 6. 用語定義

| 用語 | 定義 |
|------|------|
| 打刻 | 出勤・退勤時刻の記録 |
| 正常出勤 | 定刻内での出勤 |
| 遅刻 | 定刻を過ぎての出勤 |
| 早退 | 定時前の退勤 |
| 欠勤 | 出勤記録なし |
| 主任 | 一般従業員のうち、チームメンバーを持つ役職者 |
